{% extends "base.twig" %}

{% block title %}Change Password - {{ site_name }}{% endblock %}

{% set active_tab = 'password' %}

{% set profile_nav %}
<nav class="profile-nav">
    <a href="/profile" class="profile-nav-link{{ active_tab == 'profile' ? ' active' : '' }}">Profile</a>
    <a href="/link" class="profile-nav-link{{ active_tab == 'link' ? ' active' : '' }}">Link Account</a>
    <a href="/profile/password" class="profile-nav-link{{ active_tab == 'password' ? ' active' : '' }}">Change Password</a>
</nav>
{% endset %}

{% block content %}
<div class="auth-page">
    <div class="auth-container" style="max-width: 700px;">
        {{ profile_nav }}

        <div class="auth-card">
            <div class="auth-header">
                <h1>Change Password</h1>
                <p>Update your account password.</p>
            </div>

            {% if error is defined and error %}
                <div class="alert alert-error">{{ error }}</div>
            {% endif %}

            {% if success is defined and success %}
                <div class="alert alert-success">Your password has been changed successfully.</div>
            {% endif %}

            <form method="POST">
                <div class="form-group">
                    <label for="current_password">Current Password</label>
                    <input type="password" id="current_password" name="current_password" class="form-input" required>
                </div>

                <div class="form-group">
                    <label for="new_password">New Password</label>
                    <input type="password" id="new_password" name="new_password" class="form-input" required minlength="8">
                </div>

                <div class="form-group">
                    <label for="new_password_confirm">Confirm New Password</label>
                    <input type="password" id="new_password_confirm" name="new_password_confirm" class="form-input" required minlength="8">
                </div>

                <button type="submit" class="btn btn-primary btn-block">Change Password</button>
            </form>

            <div class="auth-footer">
                <a href="/profile">Back to Profile</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
